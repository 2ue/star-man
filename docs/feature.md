# Star-Man 功能规划文档

## 🎯 功能1：智能仪表板侧边栏Tab

### 功能描述
在仓库管理页面添加侧边栏Tab，展示整体仓库的统计信息和可视化数据，替代传统的词云展示方式。

### 设计理念
- **信息密度高**：在有限空间内展示更多有价值信息
- **交互性强**：支持用户交互和数据钻取
- **可扩展性好**：支持多种数据展示方式

### Tab内容规划

#### 1. 概览Tab
- 仓库总数统计
- Star总数统计
- 最近同步状态
- 快速操作入口

#### 2. 技术栈Tab
- 编程语言分布（饼图 + 条形图）
- 框架/库使用热度（热力图）
- 技术栈趋势分析
- 新兴技术识别

#### 3. 活跃度Tab
- 仓库活跃度分布
- 最近活跃仓库列表
- 需要关注的仓库
- 活跃度趋势图

#### 4. 趋势Tab
- Star增长趋势
- 仓库数量增长
- 技术栈变化趋势
- 活跃度变化趋势

### 技术实现
- 使用Chart.js或D3.js构建可视化组件
- 响应式设计，支持移动端
- 数据缓存机制，提升性能
- 支持数据导出和分享

---

## 🎯 功能2：仓库详细信息页面

### 功能描述
点击仓库列表中的仓库，跳转到详细信息页面，展示仓库的完整信息和统计数据。

### 详细信息内容

#### 1. 基础信息
- 仓库名称、描述、语言
- 分类、标签、创建时间
- Star数、Fork数、Issue数
- 仓库状态（私有、归档、禁用等）

#### 2. 技术信息
- 默认分支、许可证
- 主题标签、主页链接
- 依赖包信息
- 配置文件内容

#### 3. 活跃度指标
- 最近提交记录
- 贡献者统计
- 提交活动热力图
- 更新时间分布

#### 4. 扩展信息
- README内容
- 文档链接
- 示例代码
- 相关仓库推荐

### 数据更新策略

#### 更新频率分类
- **实时更新**：Star数、Fork数、Issue数等
- **定期更新**：提交活动、贡献者、依赖等（每日/每周）
- **偶尔更新**：描述、主题、配置文件等（每月）

#### 更新触发机制
- **自动触发**：GitHub Webhook、定时任务、事件驱动
- **手动触发**：用户请求、管理员触发、批量更新
- **智能触发**：基于热度、活跃度、变化检测

### 技术架构

#### 核心更新服务
- 更新策略管理
- 更新执行器（单个/批量/全量/定向）
- 更新调度器（定时任务、事件监听、队列管理）

#### CLI工具
```bash
# 单个仓库更新
star-man repo update --repo=owner/repo --fields=stars,forks,issues

# 批量更新
star-man repo update --batch --repo-list=repos.txt --fields=all

# 全量更新
star-man repo update --all --fields=basic --force

# 定向更新
star-man repo update --condition="stars>1000" --fields=detailed
```

#### API接口
- `POST /api/repos/:id/update` - 更新单个仓库
- `POST /api/repos/batch-update` - 批量更新
- `POST /api/repos/conditional-update` - 条件更新
- `GET /api/repos/:id/update-status` - 查询更新状态
- `GET /api/repos/:id/update-history` - 查询更新历史

### 实现优先级

#### 第一阶段：基础详细信息
1. 扩展仓库数据模型
2. 实现基础信息展示页面
3. 添加手动更新功能

#### 第二阶段：智能更新系统
1. 实现更新策略管理
2. 添加定时更新任务
3. 集成GitHub Webhook

#### 第三阶段：高级功能
1. 实现CLI工具
2. 添加批量更新能力
3. 优化更新性能

---

## 🎯 功能3：高级搜索筛选系统

### 功能描述
扩展仓库搜索功能，支持更多筛选条件和排序选项，提升用户搜索体验。

### 新增筛选条件

#### 1. 时间范围筛选
- **最后活跃时间**：基于`pushedAt`字段
- **元数据更新时间**：基于`updatedAt`字段
- 支持预设时间范围：1周、1月、3月、半年、1年

#### 2. 数量范围筛选
- **Star数量范围**：最小/最大Star数
- **Fork数量范围**：最小/最大Fork数
- 支持数值输入和范围选择

#### 3. 排序功能
- **排序方式**：相关度、Star数、Fork数、最后活跃、元数据更新、创建时间
- **排序方向**：升序/降序切换
- 支持动态排序和组合排序

### 技术特点
- 所有新功能基于现有数据字段，无需新API接口
- 筛选条件与分页功能完全兼容
- 支持复杂的多条件组合筛选
- 响应式设计，支持移动端操作

---

## 📋 开发计划

### 当前状态
- ✅ 高级搜索筛选系统已实现
- 🔄 智能仪表板侧边栏Tab - 设计阶段
- 🔄 仓库详细信息页面 - 设计阶段

### 下一步计划
1. 测试和完善高级搜索筛选功能
2. 设计智能仪表板UI组件
3. 规划仓库详情页面布局
4. 评估数据更新策略的技术可行性

### 技术债务
- 需要优化大量筛选条件下的查询性能
- 考虑添加筛选条件的保存和恢复功能
- 评估是否需要重构现有的搜索逻辑

---

## 💡 创新点

### 1. 智能数据展示
- 基于用户行为的数据推荐
- 动态调整信息密度
- 个性化仪表板配置

### 2. 智能更新策略
- 基于仓库热度的动态更新频率
- 机器学习预测更新时机
- 智能队列管理和优先级调度

### 3. 用户体验优化
- 一键式操作流程
- 智能搜索建议
- 搜索结果可视化展示

---

*最后更新：2024-12-19*
*文档版本：v1.0* 