# Star-Man é¡¹ç›®æ·±åº¦åˆ†ææŠ¥å‘Š

> ç”Ÿæˆæ—¶é—´: 2025-08-26  
> åˆ†æç‰ˆæœ¬: v1.0.0  
> åˆ†æå¸ˆ: Claude Code  

## ğŸ“‹ æ‰§è¡Œæ‘˜è¦

Star-Man æ˜¯ä¸€ä¸ªè®¾è®¡è‰¯å¥½çš„ GitHub æ˜Ÿæ ‡ç®¡ç†å·¥å…·ï¼Œé‡‡ç”¨ç°ä»£åŒ–çš„æŠ€æœ¯æ ˆå’Œæ¸…æ™°çš„ä¸‰å±‚æ¶æ„ã€‚é¡¹ç›®åœ¨æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å’Œæ•°æ®åŒæ­¥ç®—æ³•æ–¹é¢è¡¨ç°ä¼˜ç§€ï¼Œä½†åœ¨æ€§èƒ½ä¼˜åŒ–ã€æµ‹è¯•è¦†ç›–åº¦å’Œç›‘æ§ä½“ç³»æ–¹é¢å­˜åœ¨æå‡ç©ºé—´ã€‚

**æ ¸å¿ƒæŒ‡æ ‡:**
- æ€»ä»£ç è¡Œæ•°: 4,125 è¡Œ (ä¸å«ä¾èµ–)
- æ ¸å¿ƒæ–‡ä»¶: `StarManager` (566è¡Œ)ï¼Œ`Webç»„ä»¶` (469è¡Œ)
- æ¶æ„è¯„åˆ†: â­â­â­â­â­ (5/5)
- ä»£ç è´¨é‡: â­â­â­â­â˜† (4/5)
- æµ‹è¯•è¦†ç›–: â­â˜†â˜†â˜†â˜† (1/5)
- æ€§èƒ½è¡¨ç°: â­â­â­â˜†â˜† (3/5)

---

## ğŸ—ï¸ æ¶æ„åˆ†æ

### æ•´ä½“æ¶æ„è®¾è®¡

Star-Man é‡‡ç”¨ **å•ä»“ (Monorepo) + ä¸‰å±‚æ¶æ„** çš„è®¾è®¡æ¨¡å¼:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Application Layer          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  @star-man/cli  â”‚  @star-man/api    â”‚
â”‚  CommandLine    â”‚  REST API         â”‚
â”‚                 â”‚                   â”‚
â”‚  @star-man/web  â”‚                   â”‚
â”‚  React Frontend â”‚                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           Business Layer            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         @star-man/core              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚      StarManager            â”‚    â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚  â”‚   â”‚  GitHubService      â”‚   â”‚    â”‚
â”‚  â”‚   â”‚  RepoAnalyzer       â”‚   â”‚    â”‚
â”‚  â”‚   â”‚  Database          â”‚   â”‚    â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            Data Layer               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Prisma ORM + SQLite/MySQL         â”‚
â”‚  GitHub API (@octokit)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¨¡å—ä¾èµ–å…³ç³»

```typescript
// ä¾èµ–å›¾
@star-man/cli â”€â”€â”€â”€â”
                  â”œâ”€â”€â”€ @star-man/core â”€â”€â”€ Database (Prisma)
@star-man/api â”€â”€â”€â”€â”¤                    â”œâ”€â”€ GitHub API (@octokit)
                  â”‚                    â””â”€â”€ RepoAnalyzer
@star-man/web â”€â”€â”€â”€â”˜ 
    â”‚
    â””â”€â”€â”€ HTTP API è°ƒç”¨
```

**æ¶æ„ä¼˜åŠ¿:**
- âœ… **é«˜å†…èšä½è€¦åˆ**: æ ¸å¿ƒé€»è¾‘é›†ä¸­åœ¨ core åŒ…
- âœ… **ä»£ç å¤ç”¨æ€§**: ä¸‰ä¸ªåº”ç”¨å±‚å…±äº«åŒä¸€ä¸šåŠ¡é€»è¾‘
- âœ… **èŒè´£åˆ†ç¦»**: æ¯ä¸ªåŒ…éƒ½æœ‰æ˜ç¡®çš„èŒè´£è¾¹ç•Œ
- âœ… **å¯æ‰©å±•æ€§**: æ–°å¢æ¥å£å½¢å¼åªéœ€ä¾èµ– core åŒ…

**æ½œåœ¨é—®é¢˜:**
- âš ï¸ **å•ç‚¹æ•…éšœ**: core åŒ…æ˜¯å…³é”®ä¾èµ–ç‚¹
- âš ï¸ **ç‰ˆæœ¬ç®¡ç†**: workspace å†…ç‰ˆæœ¬åŒæ­¥å¤æ‚åº¦

---

## ğŸ”§ æ ¸å¿ƒä¸šåŠ¡é€»è¾‘åˆ†æ

### StarManager ç±»æ·±åº¦è§£æ

`StarManager` æ˜¯æ•´ä¸ªç³»ç»Ÿçš„æ ¸å¿ƒï¼ŒåŒ…å« 566 è¡Œä»£ç ï¼Œå®ç°äº†ä»¥ä¸‹å…³é”®åŠŸèƒ½:

#### 1. å¢é‡åŒæ­¥ç®—æ³• (æ ¸å¿ƒäº®ç‚¹)

```typescript
// ç®—æ³•åŸç† (åŸºäºé›†åˆè®º)
A = GitHubå½“å‰starredä»“åº“é›†åˆ
B = æ•°æ®åº“ä¸­starredä»“åº“é›†åˆ

æ–°å¢ä»“åº“ = A - B  (åœ¨GitHubæœ‰ï¼Œæ•°æ®åº“æ²¡æœ‰)
å–æ¶ˆä»“åº“ = B - A  (æ•°æ®åº“æœ‰ï¼ŒGitHubæ²¡æœ‰)  
ä¸å˜ä»“åº“ = A âˆ© B  (ä¸¤è¾¹éƒ½æœ‰ï¼Œé›¶æ•°æ®åº“æ“ä½œï¼)
```

**ç®—æ³•ä¼˜åŠ¿:**
- âœ… **é›¶å†—ä½™æ“ä½œ**: ä¸å˜çš„ä»“åº“å®Œå…¨è·³è¿‡
- âœ… **æ•°æ®ä¸€è‡´æ€§**: åŸºäºé›†åˆè¿ç®—ä¿è¯æ­£ç¡®æ€§
- âœ… **æ‰¹é‡å¤„ç†**: 50ä¸ªä¸€æ‰¹çš„äº‹åŠ¡æ“ä½œ
- âœ… **è½¯åˆ é™¤ç­–ç•¥**: `isStarred: false` ä¿ç•™å†å²

#### 2. æŸ¥è¯¢ä¼˜åŒ–æœºåˆ¶

```typescript
// å¤šç»´åº¦ç­›é€‰æ”¯æŒ
interface GetReposOptions {
  category?: string;        // åˆ†ç±»ç­›é€‰
  language?: string;        // ç¼–ç¨‹è¯­è¨€
  tags?: string[];         // æ ‡ç­¾ç­›é€‰
  search?: string;         // å…¨æ–‡æœç´¢
  
  // æ—¶é—´èŒƒå›´ç­›é€‰
  pushedAfter?: string;    // æœ€åæ´»è·ƒæ—¶é—´
  updatedAfter?: string;   // æ›´æ–°æ—¶é—´
  
  // æ•°é‡ç­›é€‰  
  minStars?: number;       // æœ€å°Staræ•°
  maxStars?: number;       // æœ€å¤§Staræ•°
  
  // æ’åºæ§åˆ¶
  sort?: 'relevance' | 'stars' | 'forks' | 'pushed';
  order?: 'asc' | 'desc';
}
```

### æ™ºèƒ½åˆ†æç³»ç»Ÿ (RepoAnalyzer)

åˆ†æç®—æ³•åŸºäºå¤šç»´åº¦è§„åˆ™å¼•æ“:

```typescript
// åˆ†æç»´åº¦æƒé‡
åŸºäºè¯­è¨€åˆ†ç±»: +0.3 ç½®ä¿¡åº¦
åŸºäºåç§°æè¿°: +0.1 ~ +0.2 ç½®ä¿¡åº¦  
åŸºäºGitHub topics: +0.2 ç½®ä¿¡åº¦
åŸºäºä»“åº“ç‰¹å¾: +0.2 ç½®ä¿¡åº¦
åŸºäºç¤¾åŒºæŒ‡æ ‡: +0.1 ç½®ä¿¡åº¦ (1000+ stars)
```

**åˆ†ç±»å‡†ç¡®æ€§:**
- 30ç§ç¼–ç¨‹è¯­è¨€æ˜ å°„
- 50+æŠ€æœ¯æ ˆå…³é”®è¯åŒ¹é…
- ç½®ä¿¡åº¦ç®—æ³•è‡ªåŠ¨è°ƒèŠ‚

---

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡åˆ†æ

### Prisma Schema è®¾è®¡è¯„ä¼°

#### æ ¸å¿ƒè¡¨ç»“æ„

```prisma
model StarredRepo {
  // GitHubåŸºç¡€ä¿¡æ¯ (15ä¸ªå­—æ®µ)
  id               Int      @id
  nodeId           String   
  name             String
  fullName         String   @unique
  ownerLogin       String   
  // ... å…¶ä»–GitHubå­—æ®µ

  // æ‰©å±•åˆ†æä¿¡æ¯
  tags             String?  // JSONæ ¼å¼æ ‡ç­¾
  category         String?  // æ™ºèƒ½åˆ†ç±»
  isStarred        Boolean  // è½¯åˆ é™¤æ ‡è®°
  syncAt           DateTime // åŒæ­¥æ—¶é—´æˆ³
  
  // æ€§èƒ½ç´¢å¼•
  @@index([ownerLogin])
  @@index([language]) 
  @@index([isStarred])
  @@index([category])
  @@index([syncAt])
}
```

**è®¾è®¡ä¼˜åŠ¿:**
- âœ… **å­—æ®µå®Œæ•´**: 35ä¸ªå­—æ®µè¦†ç›–GitHubå®Œæ•´å…ƒæ•°æ®
- âœ… **ç´¢å¼•ç­–ç•¥**: 5ä¸ªå…³é”®ç´¢å¼•è¦†ç›–ä¸»è¦æŸ¥è¯¢åœºæ™¯  
- âœ… **è½¯åˆ é™¤**: ä¿ç•™å†å²starè®°å½•
- âœ… **æ—¶é—´æˆ³**: æ”¯æŒå¢é‡åŒæ­¥åˆ¤æ–­

**è®¾è®¡é—®é¢˜:**
- âš ï¸ **JSONå­˜å‚¨**: `tags`å’Œ`topics`å­—æ®µæ— æ³•åˆ©ç”¨æ•°æ®åº“ç´¢å¼•
- âš ï¸ **ç¼ºå°‘å¤åˆç´¢å¼•**: å¤šæ¡ä»¶æŸ¥è¯¢æ€§èƒ½æœ‰é™
- âš ï¸ **å­—æ®µå†—ä½™**: éƒ¨åˆ†GitHubå­—æ®µä½¿ç”¨é¢‘ç‡ä½

#### åŒæ­¥å†å²è¡¨

```prisma
model SyncHistory {
  id            Int      @id @default(autoincrement())
  syncAt        DateTime 
  added         Int      // æ–°å¢æ•°é‡
  updated       Int      // æ›´æ–°æ•°é‡  
  unstarred     Int      // å–æ¶ˆæ•°é‡
  total         Int      // æ€»æ•°é‡
  errorMessage  String?  // é”™è¯¯ä¿¡æ¯
  success       Boolean  // æˆåŠŸæ ‡è®°
}
```

---

## ğŸŒ API è®¾è®¡åˆ†æ  

### REST API æ¥å£è®¾è®¡

#### æ ¸å¿ƒç«¯ç‚¹åˆ†æ

| ç«¯ç‚¹ | æ–¹æ³• | åŠŸèƒ½ | å‚æ•°æ•°é‡ | å¤æ‚åº¦ |
|------|------|------|----------|---------|
| `/api/repos` | GET | ä»“åº“æŸ¥è¯¢ | 15+ | é«˜ |
| `/api/sync` | POST | æ•°æ®åŒæ­¥ | 2 | ä¸­ |
| `/api/stats` | GET | ç»Ÿè®¡ä¿¡æ¯ | 0 | ä½ |
| `/api/unstar` | DELETE | å–æ¶ˆæ”¶è— | 1-N | ä¸­ |

#### æŸ¥è¯¢æ¥å£æ·±åº¦åˆ†æ

```typescript
// GET /api/repos æ”¯æŒçš„ç­›é€‰æ¡ä»¶
const queryOptions = {
  // åŸºç¡€ç­›é€‰ (4ä¸ª)
  category: string,
  language: string, 
  tags: string[],
  search: string,
  
  // æ—¶é—´ç­›é€‰ (4ä¸ª)
  pushedAfter: ISO8601,
  pushedBefore: ISO8601,
  updatedAfter: ISO8601, 
  updatedBefore: ISO8601,
  
  // æ•°é‡ç­›é€‰ (2ä¸ª)
  minStars: number,
  maxStars: number,
  
  // åˆ†é¡µæ’åº (5ä¸ª)
  limit: number,
  offset: number,
  sort: enum,
  order: enum,
  includeUnstarred: boolean
};
```

**APIè®¾è®¡ä¼˜åŠ¿:**
- âœ… **RESTfulè§„èŒƒ**: éµå¾ªRESTè®¾è®¡åŸåˆ™
- âœ… **å‚æ•°éªŒè¯**: express-validator å®Œæ•´æ ¡éªŒ
- âœ… **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„é”™è¯¯å“åº”æ ¼å¼
- âœ… **æ–‡æ¡£è‡ªåŠ¨åŒ–**: Swagger UI é›†æˆ

**æ½œåœ¨æ”¹è¿›:**
- âš ï¸ **ç¼ºå°‘ç‰ˆæœ¬æ§åˆ¶**: æ— APIç‰ˆæœ¬ç®¡ç†
- âš ï¸ **ç¼ºå°‘é™æµæœºåˆ¶**: æ— è®¿é—®é¢‘ç‡æ§åˆ¶  
- âš ï¸ **å“åº”æ ¼å¼**: æœªæ ‡å‡†åŒ–åˆ†é¡µå“åº”ç»“æ„

---

## âš¡ æ€§èƒ½ç“¶é¢ˆè¯†åˆ«

### ğŸš¨ å…³é”®æ€§èƒ½é—®é¢˜

#### 1. GitHub API è°ƒç”¨å»¶è¿Ÿ

```typescript
// é—®é¢˜ä»£ç ä½ç½®: packages/core/src/github.ts:56
await this.delay(100);  // æ¯é¡µç­‰å¾…100ms

// æ€§èƒ½å½±å“è®¡ç®—
// å‡è®¾ç”¨æˆ·æœ‰5000ä¸ªstarredä»“åº“:
// éœ€è¦è¯·æ±‚é¡µæ•°: 5000 Ã· 100 = 50é¡µ
// æ€»å»¶è¿Ÿæ—¶é—´: 50 Ã— 100ms = 5ç§’
// ç½‘ç»œè¯·æ±‚æ—¶é—´: 50 Ã— ~200ms = 10ç§’  
// æ€»åŒæ­¥æ—¶é—´: â‰ˆ 15-20ç§’
```

**è§£å†³æ–¹æ¡ˆ:**
- åŠ¨æ€è°ƒæ•´å»¶è¿Ÿ (æ ¹æ®rate limit header)
- å¹¶å‘è¯·æ±‚æ§åˆ¶ (p-queue)
- å¢é‡åŒæ­¥ä¼˜åŒ– (åªè·å–æ–°å¢éƒ¨åˆ†)

#### 2. æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½é—®é¢˜

```typescript
// é—®é¢˜ä»£ç : packages/core/src/star-manager.ts:386-394
// æ ‡ç­¾è¿‡æ»¤åœ¨åº”ç”¨å±‚æ‰§è¡Œï¼Œæœªåˆ©ç”¨æ•°æ®åº“
if (tags && tags.length > 0) {
  filteredRepos = repos.filter((repo: any) => {
    if (!repo.tags) return false;
    const repoTags = JSON.parse(repo.tags);  // ğŸš¨ æ€§èƒ½é—®é¢˜
    return tags.some(tag => repoTags.includes(tag));
  });
}
```

**æ€§èƒ½å½±å“:**
- æ¯æ¡è®°å½•éƒ½éœ€è¦ JSON.parse
- æ— æ³•åˆ©ç”¨æ•°æ®åº“ç´¢å¼•
- å¤§æ•°æ®é›†æ—¶å†…å­˜æ¶ˆè€—é«˜

#### 3. å¤æ‚æŸ¥è¯¢çš„ N+1 é—®é¢˜

```typescript
// æ½œåœ¨çš„N+1æŸ¥è¯¢é—®é¢˜
// è·å–ä»“åº“åˆ—è¡¨ (1æ¬¡æŸ¥è¯¢)
const repos = await prisma.starredRepo.findMany({...});

// ä¸ºæ¯ä¸ªä»“åº“è®¡ç®—ç»Ÿè®¡ä¿¡æ¯ (Næ¬¡æŸ¥è¯¢)  
for (const repo of repos) {
  const stats = await getRepoStats(repo.id);  // ğŸš¨ N+1é—®é¢˜
}
```

### ğŸ“Š æ€§èƒ½åŸºå‡†æµ‹è¯•(æ¨æµ‹)

| æ“ä½œ | æ•°æ®é‡ | é¢„ä¼°æ—¶é—´ | å†…å­˜ä½¿ç”¨ |
|------|---------|----------|----------|
| å…¨é‡åŒæ­¥ | 1000ä»“åº“ | 5-8ç§’ | 50MB |
| å…¨é‡åŒæ­¥ | 5000ä»“åº“ | 25-40ç§’ | 200MB |
| å¢é‡åŒæ­¥ | 100æ–°ä»“åº“ | 2-3ç§’ | 20MB |
| å¤åˆæŸ¥è¯¢ | 1000ç»“æœ | 200-500ms | 30MB |
| æ ‡ç­¾ç­›é€‰ | 1000ç»“æœ | 1-2ç§’ | 50MB |

---

## ğŸ“Š ä»£ç è´¨é‡è¯„ä¼°

### âœ… ä¼˜ç§€å®è·µ

#### 1. TypeScript è¦†ç›–åº¦
- **100%** TypeScript è¦†ç›–
- å®Œæ•´çš„æ¥å£å®šä¹‰ (114è¡Œ types.ts)
- ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥é…ç½®

#### 2. é”™è¯¯å¤„ç†æœºåˆ¶
```typescript
// å®Œæ•´çš„é”™è¯¯å¤„ç†ç¤ºä¾‹
try {
  await starManager.syncStarredRepos();
} catch (error) {
  await prisma.syncHistory.create({
    data: {
      success: false,
      errorMessage: error instanceof Error ? error.message : 'Unknown error'
    }
  });
  throw error;
}
```

#### 3. é…ç½®ç®¡ç†
```typescript
// ç¯å¢ƒé…ç½®éªŒè¯
export function validateConfig(config: Config): void {
  if (!config.github?.token) {
    throw new Error('GitHub token is required');
  }
  // ... å…¶ä»–éªŒè¯
}
```

### âš ï¸ éœ€è¦æ”¹è¿›çš„æ–¹é¢

#### 1. æµ‹è¯•è¦†ç›–åº¦ä¸¥é‡ä¸è¶³
```bash
# æœç´¢æµ‹è¯•æ–‡ä»¶ç»“æœ
$ find . -name "*.test.ts" -o -name "*.spec.ts"
# ç»“æœ: æ— æ–‡ä»¶æ‰¾åˆ°
```

**é£é™©è¯„ä¼°:**
- ğŸ”´ **é«˜é£é™©**: æ ¸å¿ƒåŒæ­¥é€»è¾‘æ— æµ‹è¯•ä¿æŠ¤
- ğŸ”´ **é«˜é£é™©**: æ•°æ®åº“æ“ä½œæ— è¾¹ç•Œæµ‹è¯•
- ğŸŸ¡ **ä¸­é£é™©**: APIæ¥å£æ— é›†æˆæµ‹è¯•
- ğŸŸ¡ **ä¸­é£é™©**: ç»„ä»¶åŠŸèƒ½æ— å•å…ƒæµ‹è¯•

#### 2. é”™è¯¯ç±»å‹ä¸å¤Ÿå…·ä½“
```typescript
// å½“å‰åšæ³•: ä½¿ç”¨å­—ç¬¦ä¸²
throw new Error("Repository not found");

// å»ºè®®æ”¹è¿›: è‡ªå®šä¹‰é”™è¯¯ç±»å‹
class RepositoryNotFoundError extends Error {
  constructor(public repoId: number) {
    super(`Repository with id ${repoId} not found`);
    this.name = 'RepositoryNotFoundError';
  }
}
```

#### 3. å¹¶å‘æ§åˆ¶ä¸è¶³
```typescript
// ç¼ºå°‘å¹¶å‘é™åˆ¶çš„APIè°ƒç”¨
const results = await Promise.all(
  repositories.map(repo => github.getRepoDetails(repo.id))
); // ğŸš¨ å¯èƒ½å¯¼è‡´APIé™æµ
```

---

## ğŸ§ª æµ‹è¯•ç­–ç•¥åˆ†æ

### å½“å‰æµ‹è¯•çŠ¶å†µ

**æµ‹è¯•æ–‡ä»¶ç»Ÿè®¡:**
- å•å…ƒæµ‹è¯•: 0 ä¸ªæ–‡ä»¶
- é›†æˆæµ‹è¯•: 0 ä¸ªæ–‡ä»¶  
- E2Eæµ‹è¯•: 0 ä¸ªæ–‡ä»¶
- æ€»æµ‹è¯•è¦†ç›–ç‡: 0%

**å…³é”®é£é™©ç‚¹:**

1. **StarManager.syncStarredRepos()** - 566è¡Œæ ¸å¿ƒé€»è¾‘æ— æµ‹è¯•
2. **æ•°æ®åº“äº‹åŠ¡æ“ä½œ** - æ‰¹é‡æ›´æ–°æ— è¾¹ç•Œæµ‹è¯•
3. **GitHub APIäº¤äº’** - ç½‘ç»œå¼‚å¸¸åœºæ™¯æ— æµ‹è¯•
4. **æ™ºèƒ½åˆ†æç®—æ³•** - RepoAnalyzer å‡†ç¡®æ€§æ— éªŒè¯

### å»ºè®®çš„æµ‹è¯•ç­–ç•¥

#### ä¼˜å…ˆçº§ 1: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
```typescript
// 1. StarManager å•å…ƒæµ‹è¯•
describe('StarManager', () => {
  describe('syncStarredRepos', () => {
    it('should handle new repositories correctly');
    it('should handle unstarred repositories');  
    it('should skip unchanged repositories');
    it('should handle GitHub API errors');
    it('should maintain data consistency in transactions');
  });
});

// 2. RepoAnalyzer æµ‹è¯•
describe('RepoAnalyzer', () => {
  it('should categorize frontend repositories correctly');
  it('should extract relevant tags');
  it('should calculate confidence scores');
});
```

#### ä¼˜å…ˆçº§ 2: API é›†æˆæµ‹è¯•
```typescript
// 3. API æ¥å£æµ‹è¯•
describe('API /repos', () => {
  it('should return paginated results');
  it('should handle complex query combinations');
  it('should validate input parameters');
  it('should handle database errors gracefully');
});
```

#### ä¼˜å…ˆçº§ 3: æ•°æ®åº“æµ‹è¯•
```typescript
// 4. æ•°æ®åº“æ“ä½œæµ‹è¯•  
describe('Database', () => {
  it('should handle concurrent updates');
  it('should maintain referential integrity');
  it('should perform batch operations correctly');
});
```

---

## ğŸ“ˆ æ€§èƒ½ç›‘æ§å»ºè®®

### å…³é”®æŒ‡æ ‡ç›‘æ§

```typescript
interface PerformanceMetrics {
  // åŒæ­¥æ€§èƒ½æŒ‡æ ‡
  sync_duration_ms: number;
  sync_repos_processed: number;
  sync_api_calls: number;
  sync_db_operations: number;
  
  // APIæ€§èƒ½æŒ‡æ ‡  
  api_response_time_ms: number;
  api_requests_per_second: number;
  api_error_rate: number;
  
  // æ•°æ®åº“æ€§èƒ½
  db_query_time_ms: number;
  db_connection_pool_usage: number;
  
  // ç³»ç»Ÿèµ„æº
  memory_usage_mb: number;
  cpu_usage_percent: number;
}
```

### æ€§èƒ½åŸºå‡†è®¾å®š

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | è­¦å‘Šé˜ˆå€¼ | é”™è¯¯é˜ˆå€¼ |
|------|--------|----------|----------|
| APIå“åº”æ—¶é—´ | <200ms | 500ms | 1000ms |
| åŒæ­¥1000ä»“åº“ | <10s | 15s | 30s |  
| å†…å­˜ä½¿ç”¨ | <100MB | 200MB | 500MB |
| æ•°æ®åº“æŸ¥è¯¢ | <50ms | 100ms | 500ms |
| CPUä½¿ç”¨ç‡ | <50% | 70% | 90% |

---

## ğŸ¯ æ€»ç»“ä¸å»ºè®®

### é¡¹ç›®ä¼˜åŠ¿æ€»ç»“

1. **æ¶æ„è®¾è®¡ä¼˜ç§€** (â­â­â­â­â­)
   - æ¸…æ™°çš„åˆ†å±‚æ¶æ„
   - è‰¯å¥½çš„ä»£ç å¤ç”¨æ€§
   - æ¨¡å—åŒ–ç¨‹åº¦é«˜

2. **æ ¸å¿ƒç®—æ³•å…ˆè¿›** (â­â­â­â­â­)
   - åŸºäºé›†åˆè®ºçš„å¢é‡åŒæ­¥
   - æ™ºèƒ½çš„ä»“åº“åˆ†æç³»ç»Ÿ
   - é«˜æ•ˆçš„æ‰¹é‡å¤„ç†æœºåˆ¶

3. **æŠ€æœ¯é€‰å‹åˆç†** (â­â­â­â­â˜†)
   - TypeScript ç¡®ä¿ç±»å‹å®‰å…¨
   - Prisma æä¾›ä¼˜ç§€çš„ORMä½“éªŒ
   - React + ç°ä»£åŒ–å‰ç«¯æŠ€æœ¯æ ˆ

### ä¸»è¦é—®é¢˜è¯†åˆ«

1. **æµ‹è¯•è¦†ç›–åº¦ä¸¥é‡ä¸è¶³** (ğŸ”´ é«˜ä¼˜å…ˆçº§)
   - 0% æµ‹è¯•è¦†ç›–ç‡
   - æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æ— ä¿æŠ¤
   - é‡æ„é£é™©æé«˜

2. **æ€§èƒ½ç“¶é¢ˆæ˜æ˜¾** (ğŸŸ¡ ä¸­ä¼˜å…ˆçº§)  
   - GitHub API è°ƒç”¨æ•ˆç‡ä½
   - æ•°æ®åº“æŸ¥è¯¢æœªä¼˜åŒ–
   - JSONåºåˆ—åŒ–å¼€é”€å¤§

3. **ç›‘æ§ä½“ç³»ç¼ºå¤±** (ğŸŸ¡ ä¸­ä¼˜å…ˆçº§)
   - æ— æ€§èƒ½ç›‘æ§
   - æ— é”™è¯¯è¿½è¸ª
   - æ— è¿è¥æ•°æ®åˆ†æ

### ä¸‹ä¸€æ­¥è¡ŒåŠ¨å»ºè®®

**ç«‹å³æ‰§è¡Œ (1å‘¨å†…):**
1. ä¸º `StarManager.syncStarredRepos()` æ·»åŠ å•å…ƒæµ‹è¯•
2. ä¼˜åŒ–æ•°æ®åº“ç´¢å¼•ï¼Œæ·»åŠ å¤åˆç´¢å¼•
3. ä¿®å¤æ ‡ç­¾æŸ¥è¯¢çš„æ€§èƒ½é—®é¢˜

**çŸ­æœŸç›®æ ‡ (1æœˆå†…):**  
1. å®Œå–„APIé›†æˆæµ‹è¯•å’Œé”™è¯¯å¤„ç†
2. æ·»åŠ åŸºç¡€æ€§èƒ½ç›‘æ§
3. å®ç°GitHub APIè°ƒç”¨çš„å¹¶å‘æ§åˆ¶

**é•¿æœŸè§„åˆ’ (3æœˆå†…):**
1. é‡æ„æ•°æ®æ¨¡å‹ï¼Œä¼˜åŒ–JSONå­˜å‚¨
2. å®ç°æ™ºèƒ½ç¼“å­˜ç­–ç•¥
3. è€ƒè™‘å¾®æœåŠ¡æ‹†åˆ†æ–¹æ¡ˆ

é€šè¿‡å®æ–½è¿™äº›æ”¹è¿›æªæ–½ï¼ŒStar-Man é¡¹ç›®å°†åœ¨ä¿æŒä¼˜ç§€æ¶æ„è®¾è®¡çš„åŸºç¡€ä¸Šï¼Œæ˜¾è‘—æå‡æ€§èƒ½è¡¨ç°ã€ç¨³å®šæ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œä¸ºåç»­åŠŸèƒ½æ‰©å±•æ‰“ä¸‹åšå®åŸºç¡€ã€‚